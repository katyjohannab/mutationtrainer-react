@import "tailwindcss";
@config "../tailwind.config.js";

/* @plugin "tailwindcss-animate"; */

@custom-variant dark (&:is(.dark *));

:root {
  /* Brand */
  --cymru-green: 167 53% 19%;
  --cymru-green-light: 121 28% 51%;
  --cymru-red: 356 64% 42%;
  --cymru-bg: 30 3% 98%;
  --cymru-text: 343 100% 3%;
  --cymru-gold: 29 64% 55%;
  --cymru-neutral: 78 15% 78%;
  --cymru-white: 0 0% 100%;

  /* Pale wash variants (for hover backgrounds, subtle fills) */
  --cymru-green-wash: 167 40% 94%;
  --cymru-green-light-wash: 121 30% 92%;
  --cymru-red-wash: 356 50% 94%;
  --cymru-gold-wash: 29 50% 93%;
  --hero-pill-bg: 121 22% 93%;

  /* shadcn tokens */
  --radius: 0.75rem;
  --background: var(--cymru-bg);
  --foreground: var(--cymru-green);
  --card: var(--cymru-white);
  --card-foreground: var(--cymru-green);
  --popover: var(--cymru-white);
  --popover-foreground: var(--cymru-text);
  --primary: var(--cymru-green);
  --primary-foreground: var(--cymru-white);
  --secondary: var(--cymru-green-light);
  --secondary-foreground: var(--cymru-text);
  --neutral: var(--cymru-neutral);
  --neutral-foreground: var(--cymru-text);
  --muted: 30 6% 92%;
  --muted-foreground: 28 10% 35%;
  --accent: var(--cymru-gold);
  --accent-foreground: var(--cymru-text);
  --destructive: var(--cymru-red);
  --destructive-foreground: var(--cymru-white);
  --success: var(--cymru-green-light);
  --success-foreground: var(--cymru-white);
  --hint: var(--cymru-gold);
  --hint-foreground: var(--cymru-text);
  --border: 30 10% 86%;
  --input: 30 10% 86%;
  --ring: var(--cymru-gold);
  --panel: 30 10% 95%;
  --panel-foreground: var(--foreground);
  --rail: 30 8% 94%;
  --rail-foreground: var(--foreground);
  --brand-green: var(--cymru-green);
  --brand-red: var(--cymru-red);
  --brand-gold: var(--cymru-gold);
  --ribbon-green: var(--brand-green);
  --ribbon-red: var(--brand-red);
  --ribbon-spark: var(--brand-gold);

  /* Gradients */
  --gradient-page: linear-gradient(130deg, hsl(var(--background)) 0%, hsl(var(--cymru-neutral) / 0.6) 100%);
  --gradient-card: linear-gradient(150deg, hsl(var(--card)) 0%, hsl(var(--cymru-neutral) / 0.35) 100%);
  --gradient-header-bar: linear-gradient(90deg, hsl(var(--cymru-red)) 0%, hsl(var(--cymru-green)) 55%, hsl(var(--cymru-green-light)) 100%);
  --feedback-correct-base: var(--cymru-green-light);
  --feedback-incorrect-base: var(--cymru-red);
  --feedback-revealed-base: var(--cymru-gold);
  --feedback-gradient-solid: 1;
  --feedback-gradient-shine: 0.28;
  --feedback-gradient-shadow: 0.06;
  --gradient-correct: linear-gradient(
    180deg,
    hsl(var(--cymru-green-light) / var(--feedback-gradient-solid)) 0%,
    hsl(var(--cymru-green-light) / var(--feedback-gradient-shine)) 30%,
    hsl(0 0% 100%) 70%,
    hsl(0 0% 100%) 100%
  );
  --gradient-incorrect: linear-gradient(
    180deg,
    hsl(var(--feedback-incorrect-base) / var(--feedback-gradient-solid)) 0%,
    hsl(var(--feedback-incorrect-base) / var(--feedback-gradient-shine)) 30%,
    hsl(0 0% 100%) 70%,
    hsl(0 0% 100%) 100%
  );
  --gradient-revealed: linear-gradient(
    180deg,
    hsl(var(--feedback-revealed-base) / var(--feedback-gradient-solid)) 0%,
    hsl(var(--feedback-revealed-base) / var(--feedback-gradient-shine)) 30%,
    hsl(0 0% 100%) 70%,
    hsl(0 0% 100%) 100%
  );

  /* Typography */
  --font-body: "Inter", "SF Pro Display", "Segoe UI", system-ui, -apple-system, sans-serif;
  --font-display: "Inter", "SF Pro Display", "Segoe UI", system-ui, -apple-system, sans-serif;
  --text-body-size: 1rem;
  --text-body-line: 1.6;
  --text-label-size: 0.875rem;
  --text-label-line: 1.4;
  --text-label-tracking: 0.04em;
  --text-subtitle-size: clamp(0.62rem, 0.5rem + 0.5vw, 0.82rem);
  --text-subtitle-line: 1.4;
  --text-subtitle-tracking: 0.08em;
  --text-display-size: clamp(1.75rem, 1.3rem + 1.2vw, 2.6rem);
  --text-display-line: 1.2;
  --text-display-tracking: -0.01em;
}

.dark {
  --background: 162 22% 12%;
  --foreground: 0 0% 98%;
  --card: 162 22% 18%;
  --card-foreground: 0 0% 98%;
  --popover: 162 22% 18%;
  --popover-foreground: 0 0% 98%;
  --primary: 162 75% 42%;
  --primary-foreground: 162 36% 10%;
  --secondary: 162 22% 16%;
  --secondary-foreground: 0 0% 98%;
  --neutral: 170 10% 28%;
  --neutral-foreground: 0 0% 98%;
  --muted: 170 12% 22%;
  --muted-foreground: 150 10% 70%;
  --accent: var(--cymru-gold);
  --accent-foreground: var(--cymru-text);
  --destructive: 355 65% 34%;
  --destructive-foreground: 0 0% 98%;
  --success: 121 38% 62%;
  --success-foreground: 162 36% 10%;
  --hint: 29 70% 60%;
  --hint-foreground: 162 36% 10%;
  --border: 170 12% 26%;
  --input: 170 12% 26%;
  --ring: var(--cymru-gold);
  --panel: 162 20% 14%;
  --panel-foreground: var(--foreground);
  --rail: 162 18% 16%;
  --rail-foreground: var(--foreground);
  --brand-green: var(--cymru-green);
  --brand-red: var(--cymru-red);
  --brand-gold: var(--cymru-gold);
  --ribbon-green: var(--brand-green);
  --ribbon-red: var(--brand-red);
  --ribbon-spark: var(--brand-gold);
  --cymru-header: 162 22% 16%;
  --gradient-page: linear-gradient(150deg, hsl(162 22% 15%) 0%, hsl(170 10% 22%) 100%);
  --gradient-card: linear-gradient(145deg, hsl(162 22% 18%) 0%, hsl(170 10% 26%) 100%);
  --gradient-header-bar: linear-gradient(90deg, hsl(var(--cymru-red)) 0%, hsl(var(--cymru-green)) 55%, hsl(var(--cymru-green-light)) 100%);
  --feedback-correct-base: var(--cymru-green-light);
  --feedback-incorrect-base: var(--cymru-red);
  --feedback-revealed-base: var(--cymru-gold);
  --feedback-gradient-solid: 1;
  --feedback-gradient-shine: 0.28;
  --feedback-gradient-shadow: 0.08;
  --gradient-correct: linear-gradient(
    180deg,
    hsl(var(--cymru-green-light) / var(--feedback-gradient-solid)) 0%,
    hsl(var(--cymru-green-light) / var(--feedback-gradient-shine)) 30%,
    hsl(0 0% 100%) 70%,
    hsl(0 0% 100%) 100%
  );
  --gradient-incorrect: linear-gradient(
    180deg,
    hsl(var(--feedback-incorrect-base) / var(--feedback-gradient-solid)) 0%,
    hsl(var(--feedback-incorrect-base) / var(--feedback-gradient-shine)) 30%,
    hsl(0 0% 100%) 70%,
    hsl(0 0% 100%) 100%
  );
  --gradient-revealed: linear-gradient(
    180deg,
    hsl(var(--feedback-revealed-base) / var(--feedback-gradient-solid)) 0%,
    hsl(var(--feedback-revealed-base) / var(--feedback-gradient-shine)) 30%,
    hsl(0 0% 100%) 70%,
    hsl(0 0% 100%) 100%
  );

  /* Dark mode wash variants */
  --cymru-green-wash: 167 40% 20%;
  --cymru-green-light-wash: 121 25% 22%;
  --cymru-red-wash: 356 40% 22%;
  --cymru-gold-wash: 29 40% 22%;
  --hero-pill-bg: 121 20% 20%;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    margin: 0;
    font-family: var(
        --font-body,
        ui-sans-serif,
        system-ui,
        -apple-system,
        Segoe UI,
        Roboto,
        Helvetica,
        Arial,
        "Apple Color Emoji",
        "Segoe UI Emoji"
      );
    font-size: var(--text-body-size);
    line-height: var(--text-body-line);
    @apply bg-background text-foreground;
  }

  h1,
  h2,
  h3 {
    font-family: var(
        --font-display,
        ui-sans-serif,
        system-ui,
        -apple-system,
        Segoe UI,
        Roboto,
        Helvetica,
        Arial,
        "Apple Color Emoji",
        "Segoe UI Emoji"
      );
    font-size: var(--text-display-size);
    line-height: var(--text-display-line);
    letter-spacing: var(--text-display-tracking);
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }
}

@layer components {
  .surface-card {
    @apply bg-card rounded-[var(--radius)] border border-border shadow-none;
  }
  .surface-card-elev {
    @apply bg-card rounded-[var(--radius)] border border-border shadow-sm;
  }
  .surface-panel {
    @apply bg-[hsl(var(--panel))] text-[hsl(var(--panel-foreground))] border border-border/60 rounded-[var(--radius)];
  }
  .surface-rail {
    @apply bg-[hsl(var(--rail))] border border-border/50 rounded-[calc(var(--radius)-2px)];
  }

  .brandLockup {
    column-gap: 0.34em;
    align-items: flex-end;
  }

  .brandMark {
    position: relative;
    top: 0;
    display: block;
    image-rendering: -webkit-optimize-contrast;
  }

  .brandWordmark {
    display: inline-flex;
    align-items: flex-end;
    transform: translateY(0.02em);
    font-kerning: normal;
    font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    text-rendering: geometricPrecision;
  }

  .brandPrimary {
    display: inline-flex;
    letter-spacing: -0.01em;
  }

  .brandSecondary {
    display: inline-flex;
    letter-spacing: -0.01em;
  }

  .brandGap {
    display: inline-block;
    width: 0.16em;
  }

  @media (max-width: 640px) {
    .brandLockup {
      column-gap: 0.26em;
    }

    .brandGap {
      width: 0.12em;
    }
  }

  .brandWordPart--kern {
    margin-left: 0.03em;
  }

  .mt-pill {
    font-size: var(--text-label-size);
    line-height: var(--text-label-line);
    letter-spacing: var(--text-label-tracking);
    @apply inline-flex items-center justify-center px-3 py-1 rounded-full font-medium transition-colors border border-transparent bg-[hsl(var(--neutral)/0.3)] text-[hsl(var(--neutral-foreground))] hover:bg-[hsl(var(--neutral)/0.45)] dark:bg-[hsl(var(--neutral)/0.2)] dark:hover:bg-[hsl(var(--neutral)/0.3)];
  }
  .mt-pill-on {
    @apply bg-primary text-primary-foreground hover:bg-primary/90;
  }

  .mt-subtitle {
    font-family: var(--font-body);
    font-size: var(--text-subtitle-size);
    line-height: var(--text-subtitle-line);
    letter-spacing: var(--text-subtitle-tracking);
    text-transform: uppercase;
    font-weight: 400;
    @apply text-muted-foreground;
  }
}
